data_simulator:
  manifest_path: null # Manifest file with paths to librispeech audio files

  # alignment_type: end # input alignment format (start, end, or tuple alignments in (start,end) pairs)
  sr: 16000 # sampling rate of the audio files
  random_seed: 42

  session_config:
    num_speakers: 4 # number of unique speakers per diarization session
    num_sessions: 60 # number of sessions
    session_length: 600 # length of each diarization session (seconds)

  session_params:
    sentence_length_params: # k,p values for negative_binomial distribution
    - 0.4
    - 0.05
    dominance_var: 0.11 # variance in speaker dominance
    min_dominance: 0.05 # minimum percentage of speaking time per speaker
    turn_prob: 0.875 # probability of switching speakers
    mean_overlap: 0.19 # mean proportion of overlap to speaking time
    mean_silence: 0.15 # mean proportion of silence to speaking time
    overlap_prob: 0.5 # proportion of overlap occurences versus silence between utterances
    start_window: true #window the start of sentences
    window_type: hamming # type of windowing used when segmenting utterances (hamming, hann, cosine)
    window_size: 0.05 # length of window at end of segmented utterance (seconds)
    start_buffer: 0.1 # buffer of silence before the start of the sentence
    split_buffer: 0.1 # split RTTM if greater than twice this amount of gap
    release_buffer: 0.1 # buffer before window at end of sentence
    normalize: true
    normalization_type: equal # normalizing speakers (equal - same volume per speaker, var - variable volume per speaker)
    normalization_var: 0.1 # variance in speaker volume
    min_volume: 0.75
    max_volume: 1.25
    end_buffer: 0.5 # buffer at the end of the session to leave blank

  outputs:
    output_dir: null # output directory
    output_filename: multispeaker_session # output filename for the wav and rttm files
    overwrite_output: true
    output_precision: 3 # number of decimal places in output files

  background_noise: #if bg noise is used, a noise source position must be passed
    add_bg: true
    background_manifest: null
    snr: 60

  speaker_enforcement:
    enforce_num_speakers: false # enforce that all requested speakers are present in the output wav file
    enforce_time:  # percentage of the way through the audio session that enforcement mode is triggered
    - 0.25
    - 0.75

  segment_manifest:
    window: 0.5
    shift: 0.25
    step_count: 50
    deci: 3

  rir_generation: #whether to generate synthetic RIR
    use_rir: true
    toolkit: 'pyroomacoustics' #pyroomacoustics or gpuRIR
    #parameters match those used by https://github.com/DavidDiazGuerra/gpuRIR
    room_config:
      room_sz: # size of the shoebox room environment (1d array for specific, 2d array for range)
      - - 2
        - 3
      - - 2
        - 3
      - - 2
        - 3
      pos_src: # positions of the speakers in the simulated room environment
      - - - 0.5
          - 1.5
        - - 0.5
          - 1.5
        - - 0.5
          - 1.5
      - - - 0.5
          - 1.5
        - - 0.5
          - 1.5
        - - 0.5
          - 1.5
      - - - 0.5
          - 1.5
        - - 0.5
          - 1.5
        - - 0.5
          - 1.5
      - - - 0.5
          - 1.5
        - - 0.5
          - 1.5
        - - 0.5
          - 1.5
      noise_src_pos: #position in room for the ambient background noise source
      - 1.5
      - 1.5
      - 2
    mic_config:
      num_channels: 2 # number of output audio channels
      pos_rcv: # microphone positions in the simulated room environment (1d array for specific, 2d array for range)
      - - - 0.5
          - 1.5
        - - 0.5
          - 1.5
        - - 0.5
          - 1.5
      - - - 0.5
          - 1.5
        - - 0.5
          - 1.5
        - - 0.5
          - 1.5
      orV_rcv: null # microphone orientations (needed for non-omnidirectional microphones)
      mic_pattern: omni # microphone type (eg. omnidirectional)
    absorbtion_params: #only T60 is used for pyroomacoustics
      abs_weights: # absorption coefficient ratios for each surface
      - 0.9
      - 0.9
      - 0.9
      - 0.9
      - 0.9
      - 0.9
      T60: 0.1 # room reverberation time
      att_diff: 15.0 # starting attenuation (if this is different than att_max, the diffuse reverberation model is used)
      att_max: 60.0 # end attenuation
