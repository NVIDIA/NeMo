# @package _global_

# to execute this experiment run:
# python train.py experiment=a100/fix_time_emb

defaults:
  - /experiment@_global_:
    - a100
    - tricks/dac
    - tricks/loss_masked
  - /dataset:
    - gigaspeech-XS

model:
  voicebox:
    audio_enc_dec:
      bandwidth_id: 12
      preq_ce: True
      normalize: True
    frac_lengths_mask: [0.1, 0.9]
    # time_hidden_dim: 1024
    # text_encode: True
    # text_enc_frame_concat: True
    # text_enc_vb_masked: False

  duration_predictor:
    audio_enc_dec: ${..voicebox.audio_enc_dec}
    # time_hidden_dim: 1024

  cap_vocode: True
  additional_log_batches: 1

  train_ds:
    subset: XL
    # manifest_filepath: ${..manifests_dir}/${..ds_name}_cuts_${.subset}_with_jensen.speech.jsonl.gz
  
  validation_ds:
    subset: "DEV"
    manifest_filepath: ${..manifests_dir}/${..ds_name}_cuts_${.subset}_with_jensen.speech.jsonl.gz

  optim:
    lr: 0.001

exp_manager:
  wandb_logger_kwargs:
    project: VB-GS_XL-DAC

# task name, determines output directory path
task_name: "a100-GS_XL-DAC"